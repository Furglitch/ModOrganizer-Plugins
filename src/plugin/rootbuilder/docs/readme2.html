<div id="ContentsSection">
    <h2>Navigation</h2>
    <ul>
        <li>
            <a href="#UsageSection">Using Root Builder</a>
            <ul>
                <li><a href="#RootFolderSection">The Root Folder</a></li>
                <li><a href="#InstallingModsSection">Installing Mods</a></li>
                <li><a href="#BuildSyncClearSection">Build, Sync & Clear</a></li>
            </ul>
        </li>
        <li>
            <a href="#ConfigSection">Configuration</a>
            <ul>
                <li><a href="#ModeSection">Modes</a></li>
                <li><a href="#CustomModeSection">Custom Mode</a></li>
                <li><a href="#SettingsSection">Settings</a></li>
                <li><a href="#ExclusionsSection">Exclusions</a></li>
            </ul>
        </li>
        <li>
            <a href="#TroubleSection">Troubleshooting</a>
        </li>
    </ul>
</div>

<div id="UsageSection">
    <h1>Using Root Builder</h1>

    <div id="RootFolderSection">
        <h2>The Root Folder</h2>
        <p>The <code>Root</code> folder is a special folder that can be added to a mod. Any files inside the <code>Root</code> folder are managed by Root Builder and will be deployed to the base game folder when a build happens.</p>
        <p><code>Root</code> folders must be at the top level of the mod and a mod can have both a <code>Root</code> folder as well as other folders and files which are handled by Mod Organizer normally, such as <code>Textures</code> or <code>Meshes</code>.</p>
        <p>
        <figure>
            <img src="img/root_folder.jpg"><br/>
            <figcaption><i>An example of a mod with a <code>Root</code> folder.</i></figcaption>
        </figure>
        </p>
    </div>

    <div id="InstallingModsSection">
        <h2>Installing Mods</h2>
        <p>To install a mod that has files which need to go inside the game folder, install it through Mod Organizer and use the manual option when installing.</p>
        <p>
        <figure>
            <img src="img/install_before.jpg"><br/>
            <figcaption><i>A mod prior to being rearranged to work with Root Builder.</i></figcaption>
        </figure>
        </p>
        <p>Create a <code>Root</code> folder at the top level and move any files that need deploying to the game folder into it. If there are any other folders that Mod Organizer can manage normally, move them alongside the <code>Root</code> folder.</p>
        <p>
        <figure>
            <img src="img/install_after.jpg"><br />
            <figcaption><i>The same mod after being rearranged to work with Root Builder.</i></figcaption>
        </figure>
        </p>
        <p>If a mod only contains a <code>Root</code> folder, Mod Organizer will warn you that the mod does not appear valid, this can be safely ignored.</p>
    </div>

    <div id="BuildSyncClearSection">
        <h2>Build, Sync & Clear</h2>
        <p>Root Builder has three primary functions; build, sync, and clear. By default, a build will run every time an application is launched through Mod Organizer and a clear is run when that application closes (or Mod Organizer is unlocked).</p>
        <h3>Build</h3>
        <p>When a build runs, the following things happen;</p>
        <ul>
            <li>All <code>Root</code> mod files are recorded. If Hash is enabled, they are also hashed.</li>
            <li>All base game files (minus the data folder) will be recorded. If Hash is enabled, they are also hashed. If Cache is enabled, these are stored and reused in future builds.</li>
            <li>If Backup is enabled, base game files (minus the data folder) are backed up, otherwise only files about to be overwritten by <code>Root</code> mods will be backed up.</li>
            <li>All files in <code>Root</code> folders are either copied or linked to the base game folder based on the current mode.</li>
        </ul>
        <h3>Sync</h3>
        <p>When a sync runs, the following things happen;</p>
        <ul>
            <li>Any files from <code>Root</code> mods that have changed in the game folder are copied back to Mod Organizer.</li>
            <li>Any base game files that have changed are copied to Mod Organizer's overwrite folder.</li>
            <li>Any new files in the base game folder are copied to Mod Organizer's overwrite folder.</li>
        </ul>
        <h3>Clear</h3>
        <p>When a clear runs, the following things happen;</p>
        <ul>
            <li>A sync is run.</li>
            <li>Any files copied or linked from <code>Root</code> folders are deleted.</li>
            <li>Any missing game files that were backed up are restored.</li>
        </ul>
    </div>
</div>

<div id="ConfigSection">
    <h1>Configuration</h1>

    <div id="ModeSection">
        <h2>Modes</h2>
        <p>Root Builder has various modes that determine how files in <code>Root</code> folders are deployed to the game folder.</p>
        <h3>Copy</h3>
        <p>Copy mode is enabled by default, in copy mode, any files found in <code>Root</code> folders are copied to the game folder during a build.</p>
        <h3>Link</h3>
        <p>In link mode, any files found in <code>Root</code> folders have links created in the game folder during a build.</p>
        <h3>USVFS</h3>
        <p>In usvfs mode, any files found in <code>Root</code> folders are mapped to the game folder using Mod Organizer's VFS. This setting is often incompatible with any mods that contain <code>dll</code> or <code>exe</code> files.</p>
        <h3>USVFS + Link</h3>
        <p>In usvfs + link mode, any files found in <code>Root</code> folders are mapped to the game folder using Mod Organizer's VFS. Any <code>dll</code> or <code>exe</code> files found in <code>Root</code> folders will have links created instead to improve mod compatibility.</p>
    </div>

    <div id="CustomModeSection">
        <h2>Custom Mode</h2>
        <p>Instead of using the preset mode, you can define your own custom mode. With a custom mode you can control exactly which files are deployed from <code>Root</code> folders and which methods are used to deploy them.</p>
        <h3>Rules</h3>
        <p>Each mode has a list of rules, these rules determine which files in <code>Root</code> folders use those methods.</p>
        <ul>
            <li>Each rule should be the path to a file or folder, relative to the <code>Root</code> folder.</li>
            <li>Rules can contain the <code>**</code> wildcard which will match all files and folders.</li>
            <li>Rules can contain the <code>*</code> wildcard, which matches anything in a file or folder name.</li>
            <li>Any other wildcards supported by Python's glob module should also function.</li>
        </ul>
        <h3>Priority</h3>
        <p>Each deployment method has a priority. If a <code>Root</code> file matches the rules for multiple modes, the method with the lowest priority number is the one used.</p>
    </div>
    
    <div id="SettingsSection">
        <h2>Settings</h2>
        <p>Root Builder contains a variety of settings to control how it functions.</p>
        <h3>Backup</h3>
        <p>Backup, when enabled, will cause a full backup of the game folder (minus the data folder) to be taken during the first build. Whenever a clear is run, if a game file changes or is removed, it is restored from this backup.</p>
        <h3>Cache</h3>
        <p>Cache, when enabled, will cause all game files (minus the data folder) to be hashed and recorded during the first build. These hashes are used to detect changes in game files during a sync. Without cache being enabled, changes to base game files cannot be detected.</p>
        <h3>Hash</h3>
        <p>Hash, when enabled, will use file hashes to look for changes to <code>Root</code> mod and game files. If disabled, file size and modified times will be used instead.</p>
        <h3>Autobuild</h3>
        <p>Autobuild, when enabled, will cause a build to run whenever an application is launched through Mod Organizer. A clear will also run when that application closes (or Mod Organzier is unlocked).</p>
        <h3>Redirect</h3>
        <p>Redirect, when enabled, will casue any application located in a <code>Root</code> folder to be redirected to launch from the game folder when launched through Mod Organizer.</p>
        <h3>Installer</h3>
        <p>Installer, when enabled, will attempt to automatically detect any mod that needs a <code>Root</code> folder when installed in Mod Organizer, it will then rearrange that mod to work with Root Builder. May not work correctly with all mods.</p>
        <h3>Debug</h3>
        <p>Debug allows you to specify which level of logging Root Builder provides. This will have no effect unless Mod Organizer is also configured to show the same level of logging.</p>
    </div>

    <div id="ExclusionsSection">
        <h2>Exclusions</h2>
        <p>Exclusions are files, folders or custom rules that if found in the base game folder or in <code>Root</code> mods, will be completely ignored by Root Builder.</p>
        <ul>
            <li>Each rule should be the path to a file or folder, relative to the <code>Root</code> folder.</li>
            <li>Rules can contain the <code>**</code> wildcard which will match all files and folders.</li>
            <li>Rules can contain the <code>*</code> wildcard, which matches anything in a file or folder name.</li>
            <li>Any other wildcards supported by Python's glob module should also function.</li>
        </ul>
    </div>
</div>

<div id="TroubleSection">
    <h1>Troubleshooting</h1>

    <div id="GameUpdate">
        <h2>Game files are being copied to overwrite after a game update.</h2>
        <p>Root Builder attempts to automatically detect when a game has updated, but this is not possible for all games. If your game has updated and now game files are being copied to </p>
    </div>
</div>